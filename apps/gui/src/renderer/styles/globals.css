/* Tailwind CSS 기본 스타일 */
@import 'tailwindcss';
@config "../../../tailwind.config.js";

/* CSS Variables for Sidebar Design System */
:root {
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

/* 전역 스타일 */
@layer base {
  /* Base typography to match design tokens */
  html {
    /* Set 1rem = 14px for precise scaling */
    font-size: 14px;
  }

  html,
  body,
  #root {
    @apply h-full;
  }

  * {
    @apply box-border;
  }

  body {
    /* Design foreground color (OKLCH) for better contrast parity with mock */
    color: oklch(0.145 0 0);
    background-color: transparent;
  }

  /* Headings scale from 14px root to match mock measurements */
  h1,
  h2 {
    font-size: 1.125rem; /* 15.75px */
    line-height: 1.75rem; /* 24.5px */
    font-weight: 600;
  }

  h5 {
    font-size: 0.75rem; /* 10.5px */
    line-height: 1rem;   /* 14px */
    font-weight: 500;
    color: rgb(113 113 130);
  }

  /* Controls (inputs/buttons) align to control scale */
  input,
  select,
  textarea {
    font-size: 0.875rem; /* 12.25px */
    line-height: 1.25rem; /* 17.5px */
  }

  button {
    font-size: 0.875rem; /* 12.25px */
    line-height: 1.25rem; /* 17.5px */
    font-weight: 500;
  }

  /* 모든 border 클래스에 일관된 gray-200 색상 적용 */
  .border,
  .border-t,
  .border-b,
  .border-l,
  .border-r,
  .border-x,
  .border-y {
    border-color: #E2E8F0; /* gray-200 */
  }
}

/* 컴포넌트 스타일 */
@layer components {
  /* CSS Grid 레이아웃 클래스들 */
  .layout-grid {
    @apply h-screen grid transition-all duration-300;
  }

  .layout-grid-full {
    grid-template-columns: 300px 1fr 300px;
  }

  .layout-grid-left {
    grid-template-columns: 300px 1fr 0px;
  }

  .layout-grid-right {
    grid-template-columns: 0px 1fr 300px;
  }

  .layout-grid-center {
    grid-template-columns: 0px 1fr 0px;
  }

  /* 반응형 레이아웃 */
  @media (max-width: 768px) {
    .layout-grid-full,
    .layout-grid-left,
    .layout-grid-right {
      grid-template-columns: 0px 1fr 0px;
    }
  }

  /* 채팅 영역 보호 */
  .chat-area {
    @apply min-w-0; /* Grid 오버플로우 방지 */
    @apply flex flex-col;
    @apply h-full;
  }

  /* 사이드바 스타일 */
  .sidebar {
    @apply bg-gray-50 border-gray-200;
    @apply overflow-hidden;
    @apply transition-all duration-300;
  }

  .sidebar-left {
    @apply border-r;
  }

  .sidebar-right {
    @apply border-l;
  }
}

/* 유틸리티 확장 */
@layer utilities {
  .grid-area-safe {
    min-width: 0;
    min-height: 0;
  }
}
