# Plan Maintenance Guide

거대한 기능이나 중장기 작업은 `plan/` 디렉터리에 계획서를 두고 관리합니다. 이 문서는 계획서의 작성→수정→완료→아카이브 흐름을 명확히 하여, 최신 상태만이 `plan/`에 남도록 하기 위한 지침입니다.

## 1. 작성 원칙

- **생성 시점**: 새 기능/리팩터링/통합 작업을 시작하기 전, 관련 팀 합의가 끝나면 작성합니다.
- **템플릿**: `docs/90-templates/PLAN_TEMPLATE.md`를 기반으로 작성하며, 최소 필수 섹션(Requirements, Interface Sketch, Todo, 작업 순서)을 채웁니다.
- **상태 메타데이터**: 문서 상단에 `Last Updated`와 작성자, 현재 상태(`Draft` / `In Progress` / `Completed`)를 기재합니다.
- **브랜치 전략**: 계획서에 명시된 브랜치 전략을 따르며, 모든 구현 PR은 해당 전략 하위 브랜치에서 진행합니다.

## 2. 운영 규칙

- **단일 사실 근거(SSOT)**: 진행 중인 요구사항/기술 결정을 합의 후 계획서에 반영합니다. 구두 전달이나 슬랙 논의는 반드시 문서로 정리합니다.
- **체크박스 관리**: Todo나 성공 조건이 완료되면 즉시 체크하고, 관련 PR/커밋 ID를 인라인 메모나 각주로 남깁니다.
- **테스트/문서 반영**: 계획서에서 언급한 테스트/문서 변경은 PR마다 검증하여, 계획서 내용을 따라가면 구현 상태를 재현할 수 있도록 합니다.
- **리뷰 주기**: 장기 과제는 최소 주 1회 담당자가 계획서를 검토해 상태를 업데이트합니다(예: `In Progress` → `Completed`).

## 3. 완료 및 승격

- **완료 조건**: 성공 조건과 Todo가 모두 체크되고, 검증(테스트/QA/문서)이 마무리되면 `Completed`로 상태를 변경합니다.
- **승격 처리**: 완료된 계획서는 요약과 핵심 결론을 1~2 페이지로 정리해 `docs/` 트리에 맞는 위치로 이동합니다. 예) GUI 기능 → `docs/30-developer-guides/`, Core 설계 → `docs/10-architecture/`.
- **plan/ 디렉터리 정리**: 승격 후 `plan/`에서는 원본을 제거하여 진행 중 문서만 남깁니다. 필요 시 `docs/` 측에서 “이전 계획” 섹션에 링크를 추가합니다.

## 4. 폐기/중단 처리

- 계획이 더 이상 유효하지 않다면 `Status: Deprecated`로 명시하고, 폐기 사유와 참고 링크(대체 안건 등)를 기록합니다.
- Deprecated 문서는 1주일 후(또는 합의된 시점) 완전히 삭제합니다. 필요한 경우 관련 정보는 회고 문서나 `docs/`의 히스토리 섹션에 옮깁니다.

## 5. 점검 루틴

- **월간 감시**: 팀별로 월 1회 `plan/` 디렉터리를 훑어 `Completed`/`Deprecated` 상태를 승격 또는 아카이브합니다.
- **PR Checklist**: 대규모 기능 PR은 해당 계획서에 링크를 추가하고, 계획서 체크리스트가 최신인지 확인합니다.
- **문서 링크 무결성**: 계획서를 이동/삭제할 때, 관련 문서와 README에서 링크를 업데이트합니다. `pnpm --filter @agentos/docs link:check`와 같은 검증 스크립트가 있다면 실행합니다.

## 6. 베스트 프랙티스

- 계획서 작성자는 구현을 마칠 때까지 “문서 오너”로 남습니다. 이관이 필요하면 명시적으로 적고 인수인계합니다.
- 복잡도가 높거나 Core 변경이 필요한 작업은 계획서에 “선행 조건” 섹션을 두어 다른 팀과의 인터페이스를 명확히 합니다.
- Progress 노트를 짧게라도 남기면(예: 변경 히스토리 표), 이후 스프린트 리뷰나 회고에 활용하기 쉽습니다.

이 지침을 통해 `plan/` 디렉터리가 항상 현재 진행 중인 작업만을 반영하도록 유지하고, 완료된 지식은 `docs/`로 승격하여 공유도를 높이세요.
