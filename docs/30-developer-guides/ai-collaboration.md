# AI 에이전트 협력 가이드라인

이 문서는 AI 에이전트(Cursor, Claude Code, Gemini, Codex 등)가 사용자와 협력할 때 따라야 하는 워크플로우와 리뷰 프로세스를 정의합니다.

## 기본 원칙

> **"계획 먼저, 코드 나중"**
>
> 모든 AI 에이전트는 코드 작성 전에 반드시 계획을 수립하고 사용자의 승인을 받아야 합니다.

## 협력 워크플로우

### 1단계: 문제 이해 및 명확화

**에이전트 역할:**

- 사용자 요구사항을 분석하고 이해
- 불분명한 부분에 대해 구체적인 질문
- 작업 범위와 목표 명확화

**사용자 역할:**

- 요구사항을 구체적으로 설명
- 에이전트의 질문에 명확한 답변 제공
- 제약 조건이나 특별한 고려사항 공유

**완료 조건:**

- [ ] 요구사항이 명확하게 정의됨
- [ ] 작업 범위가 합의됨
- [ ] 제약 조건이 파악됨

### 2단계: 복잡도 판단

**에이전트 역할:**

- [복잡도 판단 가이드라인](COMPLEXITY_GUIDE.md)을 참고하여 접근 방식 결정
- 판단 근거와 결과를 사용자에게 공유
- 필요시 분할정복 방식으로 작업 세분화

**사용자 역할:**

- 에이전트의 복잡도 판단 검토
- 추가 고려사항이나 제약 조건 제공
- 접근 방식에 대한 피드백

**완료 조건:**

- [ ] 복잡도 판단이 완료됨
- [ ] 접근 방식(단순함 우선 vs 분할정복)이 결정됨
- [ ] 사용자가 판단에 동의함

### 3단계: 계획 수립

**에이전트 역할:**

- [작업계획서 템플릿](template/TASK_PLAN_TEMPLATE.md)을 사용하여 계획서 작성
- 요구사항, 인터페이스 초안, Todo 리스트, 작업 순서 포함
- 테스트 계획 포함

**사용자 역할:**

- 계획서 내용 검토
- 누락된 요구사항이나 고려사항 지적
- 우선순위나 접근 방식 조정 요청

**완료 조건:**

- [ ] 완전한 계획서가 작성됨
- [ ] 모든 필수 항목이 포함됨
- [ ] 테스트 계획이 포함됨

### 4단계: 계획 리뷰 및 승인

**에이전트 역할:**

- 계획서를 명확하게 제시
- 사용자 피드백에 따라 계획서 수정
- 승인 요청 및 확인

**사용자 역할:**

- 계획서 상세 검토
- 구체적인 피드백 제공
- 최종 승인 또는 수정 요청

**승인 기준:**

- [ ] 모든 요구사항이 반영됨
- [ ] 기술적 접근 방식이 적절함
- [ ] 작업 순서가 논리적임
- [ ] 테스트 계획이 충분함
- [ ] 예상 결과가 명확함

### 5단계: 구현

**에이전트 역할:**

- 승인된 계획에 따라 단계별 구현
- 중요한 결정사항이나 변경사항 즉시 공유
- 중간 체크포인트에서 진행 상황 보고

**사용자 역할:**

- 중간 진행 상황 검토
- 필요시 방향 조정 지시
- 예상치 못한 문제 해결 협력

**중간 체크포인트:**

- [ ] 핵심 인터페이스 구현 완료 시
- [ ] 주요 기능 구현 완료 시
- [ ] 예상과 다른 상황 발생 시

### 6단계: 최종 검토

**에이전트 역할:**

- 완성된 코드와 테스트 결과 제시
- 계획서 대비 구현 결과 비교
- 문서 업데이트 및 정리

**사용자 역할:**

- 최종 결과물 검토
- 요구사항 충족 여부 확인
- 추가 개선사항 제안

**완료 조건:**

- [ ] 모든 요구사항이 구현됨
- [ ] 테스트가 통과됨
- [ ] 문서가 업데이트됨
- [ ] 사용자가 결과에 만족함

## 커뮤니케이션 가이드라인

### 계획서 제시 시

```
📋 **작업 계획서**

다음과 같이 작업을 계획했습니다:

[계획서 내용]

이 계획에 대해 검토해주시고, 수정이 필요한 부분이나 추가 고려사항이 있으면 말씀해주세요.
승인해주시면 구현을 시작하겠습니다.
```

### 피드백 요청 시

```
🤔 **검토 요청**

[구체적인 질문이나 확인사항]

어떻게 진행하면 좋을지 의견 부탁드립니다.
```

### 진행 상황 보고 시

```
⚡ **진행 상황**

현재 진행 상황:
- [완료된 작업]
- [진행 중인 작업]
- [다음 단계]

예상치 못한 이슈나 변경사항이 있으면 즉시 알려드리겠습니다.
```

## 예외 상황 처리

### 계획 변경이 필요한 경우

1. **즉시 작업 중단**
2. **변경 사유와 새로운 계획 제시**
3. **사용자 승인 후 재개**

### 기술적 문제 발생 시

1. **문제 상황 명확히 설명**
2. **대안 제시**
3. **사용자와 해결 방안 논의**

### 요구사항 변경 시

1. **변경 영향도 분석**
2. **새로운 계획서 작성**
3. **전체 워크플로우 재시작**

## 체크리스트

### 에이전트 자가 점검

- [ ] 사용자 요구사항을 정확히 이해했는가?
- [ ] 복잡도 판단이 적절한가?
- [ ] 계획서가 완전한가?
- [ ] 사용자 승인을 받았는가?
- [ ] 계획에 따라 구현하고 있는가?
- [ ] 중요한 변경사항을 공유했는가?

### 사용자 검토 포인트

- [ ] 요구사항이 정확히 반영되었는가?
- [ ] 기술적 접근 방식이 적절한가?
- [ ] 작업 범위가 합리적인가?
- [ ] 테스트 계획이 충분한가?
- [ ] 예상 결과가 만족스러운가?
